# Portions Copyright 2021-2025 Technology Concepts & Design, Inc.
#
# All rights reserved.
#
# Use of this source code is governed by the PostgreSQL license that can be
# found in the LICENSE.md file.
error: Use of async/await is forbidden in PL/Rust
  --> $DIR/async_await.rs:3:1
   |
LL | async fn foo() {}
   | ^^^^^^^^^^^^^^^^^
   |
   = note: `-F plrust-async` implied by `-F plrust-lints`

error: Use of async/await is forbidden in PL/Rust
  --> $DIR/async_await.rs:6:13
   |
LL |     let _ = async { 1 };
   |             ^^^^^^^^^^^

error: Use of async/await is forbidden in PL/Rust
  --> $DIR/async_await.rs:9:1
   |
LL | / async fn baz() -> i32 {
LL | |     async { 1 }.await
LL | | }
   | |_^

error: Use of async/await is forbidden in PL/Rust
  --> $DIR/async_await.rs:10:5
   |
LL |     async { 1 }.await
   |     ^^^^^^^^^^^^^^^^^

error: Use of async/await is forbidden in PL/Rust
  --> $DIR/async_await.rs:10:5
   |
LL |     async { 1 }.await
   |     ^^^^^^^^^^^

error: aborting due to 5 previous errors

